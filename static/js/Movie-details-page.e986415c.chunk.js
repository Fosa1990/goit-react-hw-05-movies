(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{104:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},110:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var c=n(43),r=n(0),a=n(2),i=n(7),o=n(42),s=n(10),l=n(53),u=(n(84),n(1));function d(e){var t=e.movie,n=t.poster_path,c=t.title,r=t.vote_average,a=t.overview,i=t.genres,o=function(e){var t;e.release_date&&(t=e.release_date.slice(0,4));e.first_air_date&&(t=e.first_air_date.slice(0,4));return t}(t);return Object(u.jsxs)("div",{className:"movie-item-wrapper",children:[Object(u.jsx)("div",{className:"movie-item-image-wrapper",children:Object(u.jsx)("img",{src:n?s.a+n:l.a,alt:c,className:"movie-item-image",loading:"lazy"})}),Object(u.jsxs)("ul",{className:"description",children:[Object(u.jsx)("li",{children:Object(u.jsxs)("h2",{className:"movie-item-title",children:[c," (",o,")"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("p",{children:["IMDB rating : ",r,"/10"]})}),Object(u.jsxs)("li",{children:[Object(u.jsx)("h3",{children:"Overview :"}),Object(u.jsx)("p",{className:"overview",children:a})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("h3",{children:"Genres :"}),Object(u.jsx)("ul",{children:i.map((function(e,t){return Object(u.jsx)("li",{children:e.name},t)}))})]})]})]})}var j=n(85),b=n.n(j);n(104);function f(){return Object(u.jsx)("div",{className:"loader-box",children:Object(u.jsx)(b.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:12e3})})}var h=n(45);n(105);var m=function(e){var t=e.text;return Object(u.jsx)("h1",{className:"not-found-title",children:t||"404 Oops, something were wrong"})},v=n(15),O=n(54),p=n(106),x=(n(107),["children","onClick","className"]),g=function(e){var t=e.children,n=e.onClick,c=e.className,r=Object(p.a)(e,x);return Object(u.jsx)("button",Object(O.a)(Object(O.a)({onClick:n,type:"button",className:c},r),{},{children:t}))};g.defaultProps={onClick:function(){return null},children:null};var y,w=g,k=(n(108),["title","titleId"]);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},N.apply(this,arguments)}function C(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _(e,t){var n=e.title,c=e.titleId,a=C(e,k);return r.createElement("svg",N({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,y||(y=r.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var B=r.forwardRef(_),P=(n.p,document.querySelector("#root-modal"));function E(e){var t=e.onClose,n=e.children;Object(r.useEffect)((function(){function e(e){e.code===s.c&&t()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t,n]);return Object(v.createPortal)(Object(u.jsx)("div",{className:"Backdrop",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(u.jsxs)("div",{className:"Modal",children:[Object(u.jsx)(w,{onClick:t,className:"CloseModal","aria-label":"Close Modal Button",children:Object(u.jsx)(B,{width:"32",height:"32"})}),n]})}),P)}n(109),n(110);var L=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,124))})),S=Object(r.lazy)((function(){return n.e(9).then(n.bind(null,122))})),M=Object(r.lazy)((function(){return n.e(11).then(n.bind(null,125))}));function z(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],l=t[1],j=Object(r.useState)(!1),b=Object(c.a)(j,2),v=b[0],O=b[1],p=Object(a.useParams)().slug,x=Object(a.useRouteMatch)(),g=x.url,y=x.path,w=Object(a.useLocation)(),k=Object(r.useRef)(w),N=Object(a.useHistory)(),C=p.match(/[a-z0-9]+$/)[0];function _(){O((function(e){return!e}))}return Object(r.useEffect)((function(){return o.b(C).then(l).catch((function(e){return console.log("error on catch MovieDetailsPage: ",e)})),function(){return l(null)}}),[C]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"button-box",children:[Object(u.jsx)(h.a,{name:"goBack",type:"button",onClick:function(){if(k.current.state){var e=k.current.state.from,t=e.pathname,n=e.search;N.push(n?t+n:t)}else{var c=k.current.pathname.includes(s.d)?"/".concat(s.d):"/";N.push(c)}},content:"Back",className:"Button",disabled:!1}),Object(u.jsx)(h.a,{name:"trailer",type:"button","data-id":C,onClick:_,content:"trailer",className:"Button",disabled:!1})]}),n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{movie:n}),Object(u.jsxs)("div",{className:"details-box",children:[Object(u.jsx)(i.c,{to:"".concat(g,"/").concat(s.b),className:"movie-link",activeClassName:"movie-link-active",children:"Cast"}),Object(u.jsx)(i.c,{to:"".concat(g,"/").concat(s.g),className:"movie-link",activeClassName:"movie-link-active",children:"Reviews"})]})]}):Object(u.jsx)(m,{text:"Sorry, page not found :("}),v&&Object(u.jsx)(E,{onClose:_,children:Object(u.jsx)(r.Suspense,{fallback:Object(u.jsx)(f,{}),children:Object(u.jsx)(M,{id:C})})}),Object(u.jsxs)(r.Suspense,{fallback:Object(u.jsx)(f,{}),children:[Object(u.jsx)(a.Route,{exact:!0,path:"".concat(y,"/").concat(s.b),children:Object(u.jsx)(L,{})}),Object(u.jsx)(a.Route,{exact:!0,path:"".concat(y,"/").concat(s.g),children:Object(u.jsx)(S,{})})]})]})}},42:function(e,t,n){"use strict";n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return v}));var c=n(49),r=n(50),a=n.n(r),i=n(51),o=n.n(i),s="https://api.themoviedb.org/3/",l="f6f92051b45422d9426f457ad6610127";function u(){return d.apply(this,arguments)}function d(){return d=Object(c.a)(a.a.mark((function e(){var t,n,c,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",!(n=i.length>1&&void 0!==i[1]?i[1]:{}).hasQuery){e.next=7;break}return e.next=5,o.a.get(t,n);case 5:return c=e.sent,e.abrupt("return",200===c.status&&0!==c.data.results.length?c.data:Promise.reject(new Error(console.log("Not found by query"))));case 7:return e.next=9,o.a.get(t,n);case 9:return r=e.sent,e.abrupt("return",200===r.status?r.data:Promise.reject(new Error(console.log("Not found"))));case 11:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function j(e){return u("".concat(s,"trending/all/week?api_key=").concat(l,"&page=").concat(e))}function b(e,t){return u("".concat(s,"search/movie?api_key=").concat(l,"&query=").concat(t,"&page=").concat(e,"&include_adult=false"),{hasQuery:!0})}function f(e){return u("".concat(s,"movie/").concat(e,"?api_key=").concat(l))}function h(e){return u("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(l))}function m(e){return u("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(l))}function v(e){var t=e.id;return u("".concat(s,"movie/").concat(t,"/videos?api_key=").concat("f6f92051b45422d9426f457ad6610127","&language=en-US"))}},44:function(e,t,n){},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(44);var c=n(1);function r(e){var t=e.content,n=e.name,r=e.type,a=e.onClick,i=e.disabled;return Object(c.jsx)("button",{type:r,name:n,onClick:a,disabled:i,className:"Button",children:t})}r.defaultProps={type:"button",onClick:function(){return null}}},53:function(e,t,n){"use strict";t.a=n.p+"static/media/No-Image-Placeholder.ee97e8e7.svg"},84:function(e,t,n){}}]);
//# sourceMappingURL=Movie-details-page.e986415c.chunk.js.map
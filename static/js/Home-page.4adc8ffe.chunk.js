(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[3],{119:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n(54),c=n(43),o=n(0),a=n(2),u=n(42),s=n(10),i=n(16),l=n(48),d=n(55),f=(n(52),n(1)),p=Object(o.lazy)((function(){return n.e(5).then(n.bind(null,117))})),g=Object(o.lazy)((function(){return n.e(2).then(n.bind(null,118))}));function b(){var e,t=Object(a.useHistory)(),n=Object(a.useLocation)(),b=null!==(e=new URLSearchParams(n.search).get("page"))&&void 0!==e?e:1,h=Object(o.useState)([]),v=Object(c.a)(h,2),O=v[0],j=v[1],m=Object(o.useState)(b),k=Object(c.a)(m,2),y=k[0],w=k[1],x=Object(o.useState)(0),C=Object(c.a)(x,2),P=C[0],N=C[1];Object(o.useEffect)((function(){u.f(y).then((function(e){var t=e.results,n=e.total_pages;t?(j(t),N(n)):d.b.error("No such results!",l.a)})).catch((function(e){d.b.error("No images",l.a),console.log("error on catch: ",e)}))}),[y]);var _=function(e){t.push(Object(r.a)(Object(r.a)({},n),{},{search:"page=".concat(e)}))};return Object(f.jsxs)("div",{children:[Object(f.jsxs)(o.Suspense,{fallback:Object(f.jsx)(i.a,{}),children:[Object(f.jsx)(p,{movies:O,url:"".concat(s.d,"/")}),O.length>1&&Object(f.jsx)(g,{onClick:function(e){var t=e.currentTarget.name;t===s.f&&y>1&&(w((function(e){return Number(e)-1})),_(Number(y)-1)),t===s.e&&y!==P&&(w((function(e){return Number(e)+1})),_(Number(y)+1))},page:y,totalPages:P})]}),Object(f.jsx)(d.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:60})]})}},42:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return v}));var r=n(49),c=n(50),o=n.n(c),a=n(51),u=n.n(a),s="https://api.themoviedb.org/3/",i="f6f92051b45422d9426f457ad6610127";function l(){return d.apply(this,arguments)}function d(){return d=Object(r.a)(o.a.mark((function e(){var t,n,r,c,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"",!(n=a.length>1&&void 0!==a[1]?a[1]:{}).hasQuery){e.next=7;break}return e.next=5,u.a.get(t,n);case 5:return r=e.sent,e.abrupt("return",200===r.status&&0!==r.data.results.length?r.data:Promise.reject(new Error(console.log("Not found by query"))));case 7:return e.next=9,u.a.get(t,n);case 9:return c=e.sent,e.abrupt("return",200===c.status?c.data:Promise.reject(new Error(console.log("Not found"))));case 11:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){return l("".concat(s,"trending/all/week?api_key=").concat(i,"&page=").concat(e))}function p(e,t){return l("".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(t,"&page=").concat(e,"&include_adult=false"),{hasQuery:!0})}function g(e){return l("".concat(s,"movie/").concat(e,"?api_key=").concat(i))}function b(e){return l("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i))}function h(e){return l("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i))}function v(e){var t=e.id;return l("".concat(s,"movie/").concat(t,"/videos?api_key=").concat("f6f92051b45422d9426f457ad6610127","&language=en-US"))}},48:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},c={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},o={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}}}]);
//# sourceMappingURL=Home-page.4adc8ffe.chunk.js.map